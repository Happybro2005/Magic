<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Magic</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background: #f4f4f9;
      text-align: center;
    }
    #container {
      background: white;
      padding: 20px;
      border-radius: 12px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    input, button, select {
      padding: 10px;
      margin: 10px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      background: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background: #45a049;
    }
  </style>
</head>
<body>
  <div id="container">
    <h1>Magic Number Trick</h1>
    <div id="step"></div>
  </div>

  <script>
    let userName = "";
    let step = 0;
    let lang = "en";

    const messages = {
      en: [
        "Welcome! Please enter your name:",
        "Hello {name}! Think of a 4-digit number in your mind.<br>When ready, click OK.",
        "Add the digits of your 4-digit number together.<br>When done, click OK.",
        "Now subtract the sum of digits from your original 4-digit number.<br>When done, click OK.",
        "Now from the result, hide any one digit and enter the remaining digits:<br>After entering the number click on OK button",
        "✨ The Magic Result ✨<br>{name}, the number you hid is: <b>{num}</b>"
      ],
      hi: [
        "आपका स्वागत है! कृपया अपना नाम दर्ज करें:",
        "नमस्ते {name}! कृपया अपने मन में 4 अंकों की एक संख्या सोचें।<br>जब आप तैयार हों, तो OK पर क्लिक करें।",
        "अपनी 4 अंकों की संख्या के अंकों को जोड़ें।<br>जब आप तैयार हों, तो OK पर क्लिक करें।",
        "अब अंकों के योग को अपनी मूल 4-अंकीय संख्या से घटाएँ।<br>जब आप तैयार हों, तो OK पर क्लिक करें।",
        "अब परिणाम से किसी एक अंक को छिपाएँ और शेष अंक दर्ज करें:<br>अंक दर्ज करने के बाद OK पर क्लिक करें।",
        "✨ जादुई परिणाम ✨<br>{name}, आपने जो संख्या छिपाई है वह है: <b>{num}</b>"
      ],
      ta: [
        "வரவேற்கிறோம்! உங்கள் பெயரை உள்ளிடவும்:",
        "வணக்கம் {name}! உங்கள் மனதில் 4 இலக்க எண்ணை யோசிக்கவும்.<br>தயார் என்றால் OK சொடுக்கவும்.",
        "உங்கள் 4 இலக்க எண்ணின் இலக்கங்களைச் சேர்க்கவும்.<br>முடிந்தவுடன் OK சொடுக்கவும்.",
        "இப்போது, உங்கள் அசல் 4 இலக்க எண்ணிலிருந்து இலக்கங்களின் கூட்டுத்தொகையை கழிக்கவும்.<br>முடிந்தவுடன் OK சொடுக்கவும்.",
        "இப்போது பெறப்பட்ட எண்ணில் ஒரு இலக்கத்தை மறைத்து மீதமுள்ள இலக்கங்களை உள்ளிடவும்:<br>உள்ளீட்டுக்குப் பிறகு OK சொடுக்கவும்.",
        "✨ மாயாஜால முடிவு ✨<br>{name}, நீங்கள் மறைத்த இலக்கம்: <b>{num}</b>"
      ],
      ml: [
        "സ്വാഗതം! നിങ്ങളുടെ പേര് നൽകുക:",
        "നമസ്കാരം {name}! മനസ്സിൽ 4 അക്ക സംഖ്യ ചിന്തിക്കുക.<br>തയ്യാർ ആയാൽ OK അമർത്തുക.",
        "നിങ്ങളുടെ 4 അക്ക സംഖ്യയിലെ അക്കങ്ങൾ ചേർക്കുക.<br>പൂർത്തിയാക്കിയാൽ OK അമർത്തുക.",
        "ഇപ്പോൾ, അക്കങ്ങളുടെ മൊത്തം നിങ്ങളുടെ യഥാർത്ഥ 4 അക്ക സംഖ്യയിൽ നിന്ന് കുറയ്ക്കുക.<br>പൂർത്തിയാക്കിയാൽ OK അമർത്തുക.",
        "ഇപ്പോൾ ഫലത്തിൽ നിന്ന് ഒരു അക്കം മറച്ചു ശേഷിക്കുന്ന അക്കങ്ങൾ നൽകുക:<br>അക്കങ്ങൾ നൽകിയതിന് ശേഷം OK അമർത്തുക.",
        "✨ മാജിക് ഫലം ✨<br>{name}, നിങ്ങൾ മറച്ച അക്കം: <b>{num}</b>"
      ],
      te: [
        "స్వాగతం! దయచేసి మీ పేరు నమోదు చేయండి:",
        "హలో {name}! మీ మనసులో 4 అంకెల సంఖ్యను ఆలోచించండి.<br>సిద్ధమైనప్పుడు OK నొక్కండి.",
        "మీ 4 అంకెల సంఖ్యలోని అంకెలను కలపండి.<br>పూర్తయిన తర్వాత OK నొక్కండి.",
        "ఇప్పుడు, మీ అసలు 4 అంకెల సంఖ్య నుండి అంకెల మొత్తం తీసివేయండి.<br>పూర్తయిన తర్వాత OK నొక్కండి.",
        "ఇప్పుడు ఫలితంలో ఒక అంకె దాచిపెట్టి మిగతా అంకెలను నమోదు చేయండి:<br>అంకెలు ఇచ్చిన తర్వాత OK నొక్కండి.",
        "✨ మాయ ఫలితం ✨<br>{name}, మీరు దాచిన అంకె: <b>{num}</b>"
      ]
    };

    function nextStep(inputValue = "") {
      const stepDiv = document.getElementById("step");

      if(step === 0){
        stepDiv.innerHTML = `
          <p>Please select your language / कृपया अपनी भाषा चुनें:</p>
          <select id="langSelect">
            <option value="en">English</option>
            <option value="hi">हिन्दी</option>
            <option value="ta">தமிழ்</option>
            <option value="ml">മലയാളം</option>
            <option value="te">తెలుగు</option>
          </select><br>
          <button onclick="lang=document.getElementById('langSelect').value; step=1; nextStep();">OK</button>
        `;
      }
      else if(step === 1){
        stepDiv.innerHTML = `
          <p>${messages[lang][0]}</p>
          <input id="nameInput" type="text">
          <button onclick="nextStep(document.getElementById('nameInput').value)">OK</button>
        `;
      }
      else if(step === 2){
        userName = inputValue;
        stepDiv.innerHTML = `
          <p>${messages[lang][1].replace("{name}", userName)}</p>
          <button onclick="nextStep()">OK</button>
        `;
      }
      else if(step === 3){
        stepDiv.innerHTML = `
          <p>${messages[lang][2]}</p>
          <button onclick="nextStep()">OK</button>
        `;
      }
      else if(step === 4){
        stepDiv.innerHTML = `
          <p>${messages[lang][3]}</p>
          <button onclick="nextStep()">OK</button>
        `;
      }
      else if(step === 5){
        stepDiv.innerHTML = `
          <p>${messages[lang][4]}</p>
          <input id="digitsInput" type="text" placeholder="Enter remaining digits">
          <button onclick="nextStep(document.getElementById('digitsInput').value)">Find Number</button>
        `;
      }
      else if(step === 6){
        let digits = inputValue.split('').map(Number);
        let digitSum = digits.reduce((a,b) => a+b, 0);
        let hidden = (9 - (digitSum % 9)) % 9; // ensures correct hidden digit

        stepDiv.innerHTML = `
          <h2>${messages[lang][5].replace("{name}", userName).replace("{num}", hidden)}</h2>
        `;
      }

      step++;
    }

    // Start at step 0
    nextStep();
  </script>
</body>
</html>


